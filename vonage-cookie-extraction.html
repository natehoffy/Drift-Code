<!DOCTYPE html>

<head>
  <title>Drift Test - @natehoffy</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta charset='utf-8'>

<!-- Start of Async Drift Code -->
<script>
"use strict";

!function() {
  var t = window.driftt = window.drift = window.driftt || [];
  if (!t.init) {
    if (t.invoked) return void (window.console && console.error && console.error("Drift snippet included twice."));
    t.invoked = !0, t.methods = [ "identify", "config", "track", "reset", "debug", "show", "ping", "page", "hide", "off", "on" ],
    t.factory = function(e) {
      return function() {
        var n = Array.prototype.slice.call(arguments);
        return n.unshift(e), t.push(n), t;
      };
    }, t.methods.forEach(function(e) {
      t[e] = t.factory(e);
    }), t.load = function(t) {
      var e = 3e5, n = Math.ceil(new Date() / e) * e, o = document.createElement("script");
      o.type = "text/javascript", o.async = !0, o.crossorigin = "anonymous", o.src = "https://js.driftt.com/include/" + n + "/" + t + ".js";
      var i = document.getElementsByTagName("script")[0];
      i.parentNode.insertBefore(o, i);
    };
  }
}();
drift.SNIPPET_VERSION = '0.3.1';
drift.load('d6yh3x69hvct');

// set attribute of the cookie value in drift
    
</script>
<!-- End of Async Drift Code -->

<!-- Start of Async Munchkin Code -->
<script type="text/javascript">
(function() {
  var didInit = false;
  function initMunchkin() {
    if(didInit === false) {
      didInit = true;
      Munchkin.init('844-RKG-112');
    }
  }
  var s = document.createElement('script');
  s.type = 'text/javascript';
  s.async = true;
  s.src = '//munchkin.marketo.net/munchkin.js';
  s.onreadystatechange = function() {
    if (this.readyState == 'complete' || this.readyState == 'loaded') {
      initMunchkin();
    }
  };
  s.onload = initMunchkin;
  document.getElementsByTagName('head')[0].appendChild(s);
})();
</script>
<!-- End of Async Munchkin Code -->

<script>
// read cookie function
function readCookie(name) {
    var value = document.cookie.match('(^|[^;]+)\\s*' + name + '\\s*=\\s*([^;]+)');
    return value ? value.pop() : '';
};

// get specific value from key in a cookie function
function cookieToObject(myObject) {
    var obj = {}; //create a blank object to store cookie stuff in
    for (var i = 0; i < myObject.length; i++) { // Iterate through each of the strings array values
       var split = myObject[i].split(':'); // Split the value
       obj[split[0].trim()] = split[1].trim(); // Add the key/value into the object
    };
    return obj.id;
};

// store the cookie as an object
var cval = readCookie('_mkto_trk').split("&");

// check if the cookie is set -- if first visit, reload the page and then check for the specific key value, else just
// get the key value
if (cval === undefined || cval.length < 2) {
    location.reload();
} else {
    idValue = cookieToObject(cval);
    console.log('ID Val: ' + idValue);
};
</script>

  </head>
  <body>
      <h1>Widget Test Home </h1>
      <p>I really hope you're enjoying Drift!</p>
      <button onclick="drift.unload()">Click this First</button>
      <button onclick="drift.load('d6yh3x69hvct');">Click this Second</button>
  </body>
